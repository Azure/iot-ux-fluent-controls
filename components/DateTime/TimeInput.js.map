{"version":3,"sources":["src/method/components/DateTime/TimeInput.tsx"],"names":[],"mappings":"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","file":"TimeInput.js","sourcesContent":["import * as React from 'react';\r\nimport * as classNames from 'classnames/bind';\r\nimport {DivProps, OptionProps, SelectProps, Elements as Attr} from '../../Attributes';\r\nimport {MethodNode, FormOption, keyCode} from '../../Common';\r\nimport {SelectInput} from '../Input/SelectInput';\r\nconst css = classNames.bind(require('./TimeInput.scss'));\r\n\r\nexport interface TimeInputType {}\r\n\r\nexport interface TimeInputAttributes {\r\n    container?: DivProps;\r\n    hourSelect?: SelectProps;\r\n    hourOption?: OptionProps;\r\n    minuteSelect?: SelectProps;\r\n    minuteOption?: OptionProps;\r\n    secondSelect?: SelectProps;\r\n    secondOption?: OptionProps;\r\n    periodSelect?: SelectProps;\r\n    periodOption?: OptionProps;\r\n}\r\n\r\nexport interface TimeInputProps extends React.Props<TimeInputType> {\r\n    /** HTML element name for label accessibility */\r\n    name: string;\r\n    /** Value */\r\n    value?: string | Date;\r\n\r\n    /** Label for \"AM\" select option */\r\n    amLabel?: string;\r\n    /** Label for \"PM\" select option */\r\n    pmLabel?: string;\r\n\r\n    /**\r\n     * Show the time in the local timezone instead of GMT\r\n     *\r\n     * Default: true\r\n     */\r\n    localTimezone?: boolean;\r\n    /** Display the seconds dropdown */\r\n    showSeconds?: boolean;\r\n    /** Use 24 hour clock */\r\n    militaryTime?: boolean;\r\n    /** Apply error styling */\r\n    error?: boolean;\r\n    /** Disable input */\r\n    disabled?: boolean;\r\n\r\n    /** Callback for new time input values */\r\n    onChange: (time: string) => void;\r\n\r\n    /** Classname to append to top level element */\r\n    className?: string;\r\n    /** Classname to append to HTML input elements */\r\n    inputClassName?: string;\r\n\r\n    attr?: TimeInputAttributes;\r\n}\r\n\r\nexport interface TimeInputState {\r\n    hours: number;\r\n    minutes: number;\r\n    seconds: number;\r\n    period: 'AM' | 'PM' | '24H';\r\n}\r\n\r\n/**\r\n * High level generic form field\r\n * \r\n * @param props Control properties (defined in `TimeInputProps` interface)\r\n */\r\nexport class TimeInput extends React.Component<TimeInputProps, TimeInputState> {\r\n    static defaultProps = {\r\n        showSeconds: false,\r\n        militaryTime: false,\r\n        disabled: false,\r\n        localTimezone: true,\r\n        amLabel: 'AM',\r\n        pmLabel: 'PM',\r\n        attr: {\r\n            container: {},\r\n            hourSelect: {},\r\n            hourOption: {},\r\n            minuteSelect: {},\r\n            minuteOption: {},\r\n            secondSelect: {},\r\n            secondOption: {},\r\n            periodSelect: {},\r\n            periodOption: {},\r\n        }\r\n    };\r\n\r\n    private hours: FormOption[];\r\n    private minutes: FormOption[];\r\n    private seconds: FormOption[];\r\n\r\n    private hourInput: HTMLSelectElement;\r\n    private minuteInput: HTMLSelectElement;\r\n    private secondInput: HTMLSelectElement;\r\n    private periodInput: HTMLSelectElement;\r\n\r\n    constructor(props: TimeInputProps) {\r\n        super(props);\r\n        this.state = this.handleState(props);\r\n\r\n        const numHours = props.militaryTime ? 24 : 12;\r\n        this.hours = [];\r\n        for (let index = 1; index < numHours; index++) {\r\n            const value = index < 10 ? `0${index}` : `${index}`;\r\n            this.hours.push({label: value, value: value});\r\n        }\r\n        this.hours.push({label: '12', value: '00'});\r\n\r\n        this.minutes = [];\r\n        this.seconds = [];\r\n        for (let index = 0; index < 60; index++) {\r\n            const value = index < 10 ? `0${index}` : `${index}`;\r\n            this.minutes.push({label: value, value: value});\r\n            this.seconds.push({label: value, value: value});\r\n        }\r\n    }\r\n\r\n    handleState(props: TimeInputProps): TimeInputState {\r\n        const time = this.handleTimezone(props.value);\r\n        \r\n        const hoursTz = props.localTimezone ? time.getHours() : time.getUTCHours();\r\n        const hours = !isNaN(hoursTz) ? hoursTz : 0;\r\n        const minutesTz = props.localTimezone ? time.getMinutes() : time.getUTCMinutes();\r\n        const minutes = !isNaN(minutesTz) ? minutesTz : 0;\r\n        const secondsTz = props.localTimezone ? time.getSeconds() : time.getUTCSeconds();\r\n        const seconds = !isNaN(secondsTz) ? secondsTz : 0;\r\n        return {\r\n            hours: !props.militaryTime && hours > 11 ? hours - 12 : hours,\r\n            minutes: !isNaN(minutes) ? minutes : 0,\r\n            seconds: !isNaN(seconds) ? seconds : 0,\r\n            period: props.militaryTime ? '24H' : (hours < 12 ? 'AM' : 'PM')\r\n        };\r\n    }\r\n\r\n    handleTimezone(value: string | Date): Date {\r\n        let time;\r\n        if (value) {\r\n            time = typeof(value) === 'string' ? new Date(value) : value;\r\n            time = this.props.localTimezone\r\n                ? time\r\n                : new Date(Date.UTC(\r\n                    time.getUTCFullYear(),\r\n                    time.getUTCMonth(),\r\n                    time.getUTCDate(),\r\n                    time.getUTCHours(),\r\n                    time.getUTCMinutes(),\r\n                    time.getUTCSeconds()\r\n                ));\r\n        } else {\r\n            time = new Date();\r\n            if (this.props.localTimezone) {\r\n                time = new Date(\r\n                    time.getFullYear(),\r\n                    time.getMonth(),\r\n                    time.getDate(),\r\n                    0, 0, 0, 0\r\n                );\r\n            } else {\r\n                time = new Date(Date.UTC(\r\n                    time.getUTCFullYear(),\r\n                    time.getUTCMonth(),\r\n                    time.getUTCDate(),\r\n                    0, 0, 0, 0\r\n                ));\r\n            }\r\n        }\r\n        return time;\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        let newState: any = {};\r\n        let update = false;\r\n        let newHours = this.state.hours;\r\n        if (newProps.value !== this.props.value || this.props.localTimezone !== newProps.localTimezone) {\r\n            newState = this.handleState(newProps);\r\n            newHours = newState.hours;\r\n            update = true;\r\n        }\r\n\r\n        if (this.props.militaryTime !== newProps.militaryTime) {\r\n            const numHours = newProps.militaryTime ? 24 : 12;\r\n            this.hours = [];\r\n            for (let index = 0; index < numHours; index++) {\r\n                const value = index < 10 ? `0${index}` : `${index}`;\r\n                this.hours.push({label: value, value: value});\r\n            }\r\n\r\n            const hours = !newProps.militaryTime && newHours > 11\r\n                 ? newHours - 12 : newHours;\r\n            const period = newProps.militaryTime ? '24H'\r\n                : (newHours > 11 ? 'PM' : 'AM');\r\n            \r\n            newState.hours = hours;\r\n            newState.period = period;\r\n            update = true;\r\n        }\r\n        \r\n        if (update) {\r\n            this.setState(newState);\r\n        }\r\n    }\r\n\r\n    update(name: 'hours' | 'minutes' | 'seconds' | 'period', value: string | number, period?: 'AM' | 'PM' | '24H') {\r\n        const date = this.handleTimezone(this.props.value);\r\n        const newState = {...this.state};\r\n        if (name !== 'period') {\r\n            newState[name] = typeof(value) === 'string' ? parseInt(value) : value;\r\n        } else if (value === 'AM' || value === 'PM') {\r\n            newState.period = value;\r\n        }\r\n        if (period === 'AM' || period === 'PM' || period === '24H') {\r\n            newState.period = period;\r\n        }\r\n\r\n        const hours = !this.props.militaryTime && newState.period === 'PM' \r\n            ? newState.hours + 12 : newState.hours;\r\n        \r\n        if (this.props.localTimezone) {\r\n            /** This is required incase the component consumer wants to track the date */\r\n            date.setHours(hours);\r\n            date.setMinutes(newState.minutes);\r\n            date.setSeconds(newState.seconds);\r\n            this.props.onChange(new Date(\r\n                date.getFullYear(),\r\n                date.getMonth(),\r\n                date.getDate(),\r\n                date.getHours(),\r\n                date.getMinutes(),\r\n                date.getSeconds()\r\n            ).toJSON());\r\n        } else {\r\n            /** This is required incase the component consumer wants to track the date */\r\n            date.setUTCHours(hours);\r\n            date.setUTCMinutes(newState.minutes);\r\n            date.setUTCSeconds(newState.seconds);\r\n            this.props.onChange(new Date(Date.UTC(\r\n                date.getUTCFullYear(),\r\n                date.getUTCMonth(),\r\n                date.getUTCDate(),\r\n                date.getUTCHours(),\r\n                date.getUTCMinutes(),\r\n                date.getUTCSeconds()\r\n            )).toJSON());\r\n        }\r\n        this.setState(newState);\r\n    }\r\n\r\n    render() {\r\n        const hours = this.state.hours < 10 ? `0${this.state.hours}` : this.state.hours;\r\n        const minutes = this.state.minutes < 10 ? `0${this.state.minutes}` : this.state.minutes;\r\n        const seconds = this.state.seconds < 10 ? `0${this.state.seconds}` : this.state.seconds;\r\n        const inputClassName = css('time-input', {'error': this.props.error}, this.props.inputClassName);\r\n\r\n        const optionMap = (option, attr) => {\r\n            return <Attr.option\r\n                value={option.value}\r\n                key={option.value}\r\n                disabled={option.disabled}\r\n                hidden={option.hidden}\r\n                attr={attr}\r\n            >\r\n                {option.label}\r\n            </Attr.option>;\r\n        };\r\n\r\n        const period = this.props.militaryTime ? '' : <Attr.select \r\n            name={this.props.name}\r\n            value={this.state.period}\r\n            disabled={this.props.disabled}\r\n            onChange={event => this.update('period', this.periodInput.value)}\r\n            methodRef={element => this.periodInput = element}\r\n            className={css(inputClassName, 'time-input-period')}\r\n            attr={this.props.attr.periodSelect}\r\n        >\r\n            <Attr.option\r\n                value='AM'\r\n                attr={this.props.attr.periodOption}\r\n            >\r\n                {this.props.amLabel}\r\n            </Attr.option>\r\n            <Attr.option\r\n                value='PM'\r\n                attr={this.props.attr.periodOption}\r\n            >\r\n                {this.props.pmLabel}\r\n            </Attr.option>\r\n        </Attr.select>;\r\n\r\n        const secondsInput = this.props.showSeconds !== true ? '' : <Attr.select \r\n            name={this.props.name}\r\n            value={seconds}\r\n            disabled={this.props.disabled}\r\n            onChange={event => this.update('seconds', this.secondInput.value)}\r\n            methodRef={element => this.secondInput = element}\r\n            className={inputClassName}\r\n            attr={this.props.attr.secondSelect}\r\n        >\r\n            {this.seconds.map(option => \r\n                optionMap(option, this.props.attr.secondOption)\r\n            )}\r\n        </Attr.select>;\r\n\r\n        return (\r\n            <Attr.div\r\n                className={css('time-input-container', this.props.className)} \r\n                attr={this.props.attr.container}\r\n            >\r\n                <Attr.select \r\n                    name={this.props.name}\r\n                    value={hours}\r\n                    disabled={this.props.disabled}\r\n                    onChange={event => this.update('hours', this.hourInput.value)}\r\n                    methodRef={element => this.hourInput = element}\r\n                    className={inputClassName}\r\n                    attr={this.props.attr.hourSelect}\r\n                >\r\n                    {this.hours.map(option =>\r\n                        optionMap(option, this.props.attr.hourOption)\r\n                    )}\r\n                </Attr.select>\r\n                <Attr.select \r\n                    name={this.props.name}\r\n                    value={minutes}\r\n                    disabled={this.props.disabled}\r\n                    onChange={event => this.update('minutes', this.minuteInput.value)}\r\n                    methodRef={element => this.minuteInput = element}\r\n                    className={inputClassName}\r\n                    attr={this.props.attr.minuteSelect}\r\n                >\r\n                    {this.minutes.map(option =>\r\n                        optionMap(option, this.props.attr.minuteOption)\r\n                    )}          \r\n                </Attr.select>\r\n                {secondsInput}\r\n                {period}        \r\n            </Attr.div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TimeInput;\r\n"]}